$[domain WebUserUI]
$[D summary, main "This template generates HTML code associated with user Login and Sign Up."]
$[import "security/SecurityFunctions"]
$[call findUserEntity()->(userEntity: userEntity, passwordAttribute: passwordAttribute, usernameAttribute: usernameAttribute)]
$[let userEnabledAttribute = (userEntity|domain:Security).attributeTagged("login:enabled")]
$[call findRoleEnum()->(roleEnum: roleEnum, defaultEnumItem: defaultEnumItem)]
$[install "web/thymeleaf-bootstrap/auth/login.html" "resources/templates"]
$[if space.domain("Security").hasTag("feature:invite") && (space|domain:Security).hasEntityTagged("invite")]
    $[install "web/thymeleaf-bootstrap/auth/invite_accept.html" "resources/templates"]
$[else]
    $[install "web/thymeleaf-bootstrap/auth/signup.html" "resources/templates"]
$[/if]
$[install "web/thymeleaf-bootstrap/auth/error.html" "resources/templates"]
$[install "web/thymeleaf-bootstrap/auth/LoginSignupWebPageController.java" "java/" + ((space.domain("WebUserUI")).namespace|path)]